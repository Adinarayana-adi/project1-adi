<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Create Employee</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f4f6f8;
            margin: 0;
            padding: 0;
        }

        .content {
            margin-left: 210px;
            padding: 20px;
        }

        .header {
            background-color: #1976d2;
            color: white;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .form-section {
            background-color: white;
            padding: 20px;
            border-radius: 6px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        .form-group {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 15px;
        }

        .form-group input,
        .form-group select {
            flex: 1;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            min-width: 300px;
        }

        label {
            display: block;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .skills {
            margin-top: 10px;
        }


        .skills label {
            margin-right: 20px;
            font-weight: normal;
        }

        .buttons {
            margin-top: 20px;
        }

        .buttons button {
            padding: 10px 20px;
            margin-left: 10px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        .buttons {
            margin-left: 1000px;
            margin-bottom: 20px;
        }

        .save-btn {
            background-color: #4caf50;
            color: white;
        }

        .cancel-btn {
            background-color: #f44336;
            color: white;
        }

        #male {
            margin-right: -135px;
            margin-left: -100px;
        }

        #female {
            margin-right: -135px;
            margin-left: -50px;
        }

        #gender {
            display: flex;
        }

        #others {
            margin-right: -140px;
        }


        .skills-group {
            align-items: center;
            flex-wrap: wrap;
            gap: 85px;
            display: flex;
        }

        #btn {
            color: white;


        }
    </style>
</head>

<body>

    <div class="content">
        <div class="header">
            <h3>Employee Create</h3>
            <button
                style="background-color: #0d47a1; color: white; padding: 8px 15px; border: none; border-radius: 4px;">Logout</button>
        </div>

        <div class="form-section">
            <h2>Employee Details</h2>
            <div class="form-group">
                <div>
                    <label>First Name</label>
                    <input id='firstname' type="text" placeholder="First Name" />
                </div>
                <div>
                    <label>Last Name</label>
                    <input id="lastname" type="text" placeholder="Last Name" />
                </div>
                <div>
                    <label>Email</label>
                    <input id="email" type="email" placeholder="Email Id" />
                </div>
            </div>

            <div class="form-group">
                <div>
                    <label>Mobile Number</label>
                    <input id="mobile" type="text" placeholder="Mobile No" />
                </div>
                <div>
                    <label>Date of Birth</label>
                    <input id="date" type="date" placeholder="dd/mm/yyyy" />
                </div>
                <div id="gender-1">
                    <label>Gender</label>
                    <div id="gender">
                        <div>
                            <label><input id="male" type="radio" name="gender" value="male"> Male</label>
                        </div>
                        <div>
                            <label><input id="female" type="radio" name="gender" value="female"> Female</label>
                        </div>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <div style="flex: 2;">
                    <label>Address</label>
                    <input id="address" type="text" placeholder="Address" />
                </div>
            </div>

            <div class="form-group">
                <div>
                    <label>Country</label>
                    <select id="country">
                        <option>--Select Country--</option>
                        <option>India</option>
                        <option>USA</option>
                    </select>
                </div>
                <div>
                    <label>City</label>
                    <select id="city">
                        <option>--Select City--</option>
                        <option>Hyderabad</option>
                        <option>Bangalore</option>
                    </select>
                </div>
                <div style="margin-top: 28px; margin-left: -80px; ">
                    <input id="others" type="checkbox" /> Other City
                </div>
            </div>
            <h3>Skills</h3>
            <div class="skills">
                <div class="form-row">
                    <div class="skills-group checkbox-group">
                        <div>
                            <label><input type="checkbox"> AWS</label>
                            <label><input type="checkbox"> DevOps</label>
                        </div>
                        <div>
                            <label><input type="checkbox"> Full Stack Developer</label>
                            <label><input type="checkbox"> Middleware</label>
                        </div>
                        <label><input type="checkbox"> QA-Automation</label>
                        <label><input type="checkbox"> WebServices</label>
                    </div>
                </div>
            </div>

            <div class="buttons">
                <button class="save-btn" onclick="updateuserdata()"> Save</button>
                <button class="cancel-btn" onclick="if(confirm('are you sure to cancel the user')) cancelUser()">Cancel</button>
            </div>
        </div>
    </div>
    <script>
        const paramas = new URLSearchParams(window.location.search);
        const userId = paramas.get('id');
        let userInfo = {};
        (function () {
            fetch(
                'http://localhost:4000/jala_acadamey/' + userId,
                {
                    method: 'GET'
                }
            ).then(function (response) {
                return response.json();
            }).then(function (parsedResponse) {
                userInfo = parsedResponse;
                document.getElementById('firstname').value = userInfo.firstname;
                document.getElementById('lastname').value = userInfo.lastname;
                flag: document.getElementById('mobile').value = userInfo.mobile;
                document.getElementById('email').value = userInfo.email;
                document.getElementById('gender').value = userInfo.gender;
                document.getElementById('date').value = userInfo.date;
                document.getElementById('country').value = userInfo.country;
                document.getElementById('city').value = userInfo.city;
                document.getElementById('address').value = userInfo.address;
            }).catch(function (error) {

            });

        })();
        function updateuserdata() {
            const requestBody = {
                firstname: document.getElementById('firstname').value,
                lastname: document.getElementById('lastname').value,
                mobile: document.getElementById('mobile').value,
                email: document.getElementById('email').value,
                gender:document.getElementById('gender').value,
                date:document.getElementById('date').value,
                country:document.getElementById('country').value,
                city:document.getElementById('city').value,
                address:document.getElementById('address').value,


            };

            fetch(
                'http://localhost:4000/jala_acadamey/' + userId,
                {
                    method: 'PUT',
                    body: JSON.stringify(requestBody)
                }
            ).then(function (response) {
                return response.json();
            }).then(function (parsedResponse) {
                window.alert('update the user successfully');
                window.location.href = 'search.html';
            }).catch(function (error) {

            });
        };
    </script>

</body>

</html>